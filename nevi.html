<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="|${pageName}|"></title>
	<link rel="stylesheet" th:href="@{/css/nevi.css}">
	<link rel="stylesheet" th:href="@{/css/login.css}">
	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    
</head>
<body>
	<nav class="navbar">
	       <div class="navbar-container">
	           <!-- 로고 -->
	       <a class="navbar-brand" th:href="|/${loginType}|"><img src="/images/tengen1.png" width="100px"></a>
	   
	           <!-- 검색창 -->
			<!-- 검색창 -->
			  	<div class="search-container">
			    <form th:action="@{/security-login/search}" method="get">
			          <!-- 키워드 검색 -->
					  <div class="navbar-search">
			          <input id="searchInput" class="form-control me-2" type="search" name="keyword" placeholder="여행지나 숙소를 검색해보세요" onfocus="toggleSearchForm()">
					  <!-- 검색 버튼 -->
					  <div class="search-button">
			          <button type="submit" class="btn btn-outline-success" th:action="@{/security-login/search}">Search</button>
					  </div>
					  </div>
				</form>

	               <!-- 드롭다운 메뉴 (검색창 바로 아래에 위치) -->
	               <div id="searchDropdown" class="search-dropdown" style="display: none;"> <!-- 초기에는 보이지 않도록 설정 -->
	                   <select name="location" id="location">
	                       <option value="">Select Location</option>
	                       <option value="Seoul">Seoul</option>
	                       <option value="Busan">Busan</option>
	                   </select>
	   
	                   <input type="date" name="checkInDate" id="checkInDate">
	                   	
	            	   <div class="dropdown">
	                       <button class="btn btn-primary btn-sm" onclick="toggleDogDropdown()">강아지</button>
	                       <div id="dogDropdown" class="dropdown-content">
							<div class="input-group mb-3">
							    <span class="input-group-text" id="dogWeight1Label">SMALL</span>
							    <button class="btn btn-outline-secondary" type="button" onclick="decrement('dogWeight1')">-</button>
							    <input type="number" class="form-control" id="dogWeight1" value="0" min="0" aria-label="1-6kg" aria-describedby="dogWeight1Label" readonly>
							    <button class="btn btn-outline-secondary" type="button" onclick="increment('dogWeight1')">+</button>
							</div>

							<div class="input-group mb-3">
							    <span class="input-group-text" id="dogWeight2Label">MEDIUM</span>
							    <button class="btn btn-outline-secondary" type="button" onclick="decrement('dogWeight2')">-</button>
							    <input type="number" class="form-control" id="dogWeight2" value="0" min="0" aria-label="7-12kg" aria-describedby="dogWeight2Label" readonly>
							    <button class="btn btn-outline-secondary" type="button" onclick="increment('dogWeight2')">+</button>
							</div>

							<div class="input-group mb-3">
							    <span class="input-group-text" id="dogWeight3Label">LARGE</span>
							    <button class="btn btn-outline-secondary" type="button" onclick="decrement('dogWeight3')">-</button>
							    <input type="number" class="form-control" id="dogWeight3" value="0" min="0" aria-label="13-20kg" aria-describedby="dogWeight3Label" readonly>
							    <button class="btn btn-outline-secondary" type="button" onclick="increment('dogWeight3')">+</button>
							</div>
	                       </div><div>
	                       </div>
	                   </div>
	                   
	                   <button type="submit">Search</button>
	               </div>
	           </div>
	   
	           <!-- 사용자 정보와 메뉴 -->
				<div class="navbar-menu">
				               <div th:if="${user != null}">
				                   <span th:text="${user.name} + '님 안녕하세요!'"></span>
				                   <a class="btn btn-link btn-sm" th:href="@{/logout}" role="button" style="font-size: 0.8rem;">로그아웃</a>
				               </div>
				               <div th:if="${user == null}">
	               <a class="btn btn-link btn-sm" th:href="@{/security-login/login}" role="button" style="font-size: 0.8rem;">로그인</a>
	               <a class="btn btn-link btn-sm" th:href="@{/security-login/join}" role="button" style="font-size: 0.8rem;">회원가입</a>
	                   
	               <!-- Menu 드롭다운 버튼 -->
	               <div class="button-dropdown">
	                   <button type="button" class="btn btn-link btn-sm" id="menuDropdown" onclick="toggleMenuDropdown()">Menu</button>
	                   <div id="menuDropdownContent" class="dropdown-content">
	                       <a th:href="@{/security-login/reservation}" class="dropdown-item">Reservation</a>
	                       <a th:href="@{/security-login/evnet}"class="dropdown-item">Event</a>
	                       <a th:href="@{/security-login/info}" class="dropdown-item">My Page</a>
	                       <a th:href="@{/security-login/logout}" class="dropdown-item">로그아웃</a>
	                   </div>
	               </div>
	           </div>
	       </div>
	   </nav>
	   </body>
	    <script th:src="@{/js/nav.js}" type="text/javascript"></script>
	   <!-- Bootstrap JS and dependencies CDN -->
	      <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
	      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
	      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
	   </html>